(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{18:function(e,t,n){e.exports={notes_title:"Notes_notes_title__22gZW",new_note_form:"Notes_new_note_form__23Hkl",notes:"Notes_notes__1C2w2"}},19:function(e,t,n){e.exports={container:"Register_container__2CpZo",register_img:"Register_register_img__31hHB",wave_img:"Register_wave_img__3vNB-",register:"Register_register__FCH_-"}},24:function(e,t,n){e.exports={home:"Home_home__1BgyG",home_img:"Home_home_img__19Bnx",open_btn:"Home_open_btn__3OTlt"}},25:function(e,t,n){e.exports={container:"Login_container__1DF8G",login_img:"Login_login_img__3z7mT",wave_img:"Login_wave_img__JzQir"}},27:function(e,t,n){e.exports={signout:"Signout_signout__2ZW-q",signout_btn:"Signout_signout_btn___j0cz"}},36:function(e,t,n){e.exports={nav_title:"Navigation_nav_title__PcA7I"}},42:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),i=n(33),o=n.n(i),r=(n(42),n(13)),a=n(15),u=n(6),l=n(27),j=n.n(l),d=n(8),b=(n(32),n(44),n(54),{apiKey:"AIzaSyBNjS1-f74x2tyRYKOOBI5tVbhaGdkUHKQ",authDomain:"notes-a-ecb14.firebaseapp.com",projectId:"notes-a-ecb14",storageBucket:"notes-a-ecb14.appspot.com",messagingSenderId:"1002240956605",appId:"1:1002240956605:web:0b1eb9425e88845c48ffd4",measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"/tea-milas/notesy-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBNjS1-f74x2tyRYKOOBI5tVbhaGdkUHKQ",REACT_APP_APP_ID:"1:1002240956605:web:0b1eb9425e88845c48ffd4",REACT_APP_AUTH_DOMAIN:"notes-a-ecb14.firebaseapp.com",REACT_APP_MEASUREMENT_ID:"G-8BS958WF5X",REACT_APP_MESSAGING_SENDER_ID:"1002240956605",REACT_APP_PROJECT_ID:"notes-a-ecb14",REACT_APP_STORAGE_BUCKET:"notes-a-ecb14.appspot.com"}).REACT_APP_MEASUREMENZ_ID});d.a.initializeApp(b);var _=d.a.firestore(),h=d.a.auth(),g=(d.a.storage(),d.a,n(1)),p=function(){var e=Object(u.f)();return Object(g.jsx)("div",{className:j.a.signout,children:Object(g.jsx)("button",{className:j.a.signout_btn,onClick:function(){h.signOut().then(e.push("/"))},children:"SO"})})},O=n(36),m=n.n(O),f=function(){return Object(g.jsxs)("nav",{children:[Object(g.jsx)("h2",{className:m.a.nav_title,children:"Notesy"}),Object(g.jsx)(p,{})]})},x=n(24),v=n.n(x),w=(n(51),function(){return Object(g.jsx)("footer",{children:Object(g.jsx)("p",{children:"Made by Tea | March 2021"})})}),N=n(18),E=n.n(N),S=n(30),A=n.n(S),P=n(37),C=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(""),o=Object(r.a)(i,2),a=o[0],u=o[1],l=Object(c.useState)(""),j=Object(r.a)(l,2),b=j[0],h=j[1],g=d.a.auth().currentUser.uid,p=function(){_.collection("users").doc(g).collection("notes").get().then((function(e){h(e.docs.map((function(e){return e.data()})))}))},O=function(){var e=Object(P.a)(A.a.mark((function e(t){var n,c,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target[0].value,c=t.target[1].value,(i=_.collection("users").doc(g).collection("notes")).doc().set({title:n,description:c}),e.next=7,i.get().then((function(e){e.docs.map((function(e){return i.doc(e.id).update({noteID:e.id})}))}));case 7:p(),s(" "),u(" ");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){p()}),[]),{getNotes:p,submitNote:O,deleteNote:function(e){_.collection("users").doc(g).collection("notes").doc(e).delete().then((function(){h(b.filter((function(t){return t.id!==e}))),p(),console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))},title:n,setTitle:s,description:a,setDescription:u,notes:b,setNotes:h}},I=function(){var e=C(),t=(e.getNotes,e.submitNote),n=e.deleteNote,c=e.title,s=e.setTitle,i=e.description,o=e.setDescription,r=e.notes;e.setNotes;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{className:E.a.notes_title,children:"Write down things you don't want to forget: "}),Object(g.jsxs)("form",{onSubmit:t,className:E.a.new_note_form,children:[Object(g.jsx)("label",{children:"Title"}),Object(g.jsx)("input",{type:"text",value:c,onChange:function(e){return s(e.target.value)},required:!0}),Object(g.jsx)("label",{children:"Description"}),Object(g.jsx)("input",{type:"text",value:i,onChange:function(e){return o(e.target.value)},required:!0}),Object(g.jsx)("button",{type:"submit",children:"Add"})]}),Object(g.jsx)("section",{className:E.a.notes,children:r&&r.map((function(e){return Object(g.jsxs)("article",{className:E.a.notes_note,children:[Object(g.jsx)("h3",{children:e.title}),Object(g.jsx)("button",{onClick:function(){return n(e.noteID)},children:"X"}),Object(g.jsx)("p",{children:e.description})]},e.noteID)}))})]})},T=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(window.innerWidth),o=Object(r.a)(i,2),a=o[0],u=o[1],l=function(){u(window.innerWidth)};Object(c.useEffect)((function(){return window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}}),[]);var j=a<=768,b=d.a.auth().currentUser.displayName;return Object(g.jsxs)("div",{className:v.a.home,children:[Object(g.jsx)(f,{}),Object(g.jsxs)("main",{children:[Object(g.jsx)("img",{className:v.a.home_img,src:"./WFH_svg/wfh_8.svg",alt:"girl with a laptop"}),Object(g.jsxs)("h2",{children:["Hi ",b,"!"]}),j?Object(g.jsx)("button",{className:v.a.open_btn,onClick:function(){return s(!n)},children:n?"Close notes":"Add a new note"}):Object(g.jsx)(I,{}),j&&n&&Object(g.jsx)(I,{})]}),Object(g.jsx)(w,{})]})},y=n(25),D=n.n(y),R=function(){var e=Object(c.useContext)(F),t=Object(u.f)(),n=new d.a.auth.GoogleAuthProvider;return Object(g.jsxs)("section",{className:D.a.container,children:[Object(g.jsx)("img",{className:D.a.login_img,src:"./WFH_svg/wfh_1.svg",alt:"girl with a laptop"}),Object(g.jsx)("h1",{children:"Notesy"}),Object(g.jsxs)("form",{onSubmit:function(n){n.preventDefault();var c=n.target[0].value,s=n.target[1].value;h.signInWithEmailAndPassword(c,s).then((function(n){var c=d.a.auth().currentUser.uid;e.setUserId(c),t.push("/home")})).catch((function(e){alert("Your email or password don't match!")}))},children:[Object(g.jsx)("input",{placeholder:"email...",required:!0}),Object(g.jsx)("input",{type:"password",placeholder:"password...",required:!0}),Object(g.jsx)("button",{type:"submit",children:"Login"}),Object(g.jsx)("button",{onClick:function(){n.addScope("https://www.googleapis.com/auth/contacts.readonly"),d.a.auth().signInWithPopup(n).then((function(e){e.credential.accessToken,e.user;t.push("/home")})).catch((function(e){e.code,e.message,e.email,e.credential}))},children:"Google login"}),Object(g.jsxs)("p",{children:["Don't have an account? ",Object(g.jsx)(u.a,{children:Object(g.jsx)(a.b,{to:"/register",children:Object(g.jsx)("span",{children:"Register here"})})})]})]}),Object(g.jsx)("img",{className:D.a.wave_img,src:"./WFH_svg/wave.svg",alt:"wave background"})]})},H=n(19),U=n.n(H),W=function(){var e=Object(u.f)(),t=Object(c.useContext)(F);return Object(g.jsxs)("div",{className:U.a.container,children:[Object(g.jsx)("img",{className:U.a.register_img,src:"./WFH_svg/wfh_2.svg",alt:"person with a phone"}),Object(g.jsx)("h1",{children:"Register"}),Object(g.jsxs)("form",{className:U.a.register,onSubmit:function(n){n.preventDefault();var c=n.target[0].value,s=n.target[1].value,i=n.target[2].value;t.setUser(c),_.collection("users").doc().set({username:c,email:s}),_.collection("users").get().then((function(e){e.forEach((function(e){_.collection("users").doc(e.id).update({userID:e.id})}))})),h.createUserWithEmailAndPassword(s,i).then((function(t){alert(c+", you have succesfully registered!"),d.a.auth().currentUser.updateProfile({displayName:c}),e.push("/")})).catch((function(e){alert(e.message)}))},children:[Object(g.jsx)("input",{placeholder:"username..."}),Object(g.jsx)("input",{placeholder:"email..."}),Object(g.jsx)("input",{type:"password",placeholder:"password..."}),Object(g.jsx)("button",{type:"submit",children:"Register"})]}),Object(g.jsx)("img",{className:U.a.wave_img,src:"./WFH_svg/wave.svg",alt:"wave background"})]})},F=Object(c.createContext)({}),k=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(""),o=Object(r.a)(i,2),l={user:n,setUser:s,userId:o[0],setUserId:o[1]};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(F.Provider,{value:l,children:Object(g.jsx)(a.a,{children:Object(g.jsxs)(u.c,{children:[Object(g.jsx)(u.a,{exact:!0,path:"/",children:Object(g.jsx)(R,{})}),Object(g.jsx)(u.a,{path:"/register",children:Object(g.jsx)(W,{})}),Object(g.jsx)(u.a,{path:"/home",children:Object(g.jsx)(T,{})})]})})})})};var B=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(k,{})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),i(e),o(e)}))};o.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(B,{})}),document.getElementById("root")),G()}},[[53,1,2]]]);
//# sourceMappingURL=main.3ba471db.chunk.js.map